"use strict";(self.webpackChunkreact_edu_projects=self.webpackChunkreact_edu_projects||[]).push([[886],{886:function(e,n,r){r.r(n),r.d(n,{default:function(){return j}});var t=r(683);function c(e,n,r,t,c,u,o){try{var a=e[u](o),i=a.value}catch(s){return void r(s)}a.done?n(i):Promise.resolve(i).then(t,c)}function u(e){return function(){var n=this,r=arguments;return new Promise((function(t,u){var o=e.apply(n,r);function a(e){c(o,t,u,a,i,"next",e)}function i(e){c(o,t,u,a,i,"throw",e)}a(void 0)}))}}var o=r(439),a=r(757),i=r.n(a),s=r(791),l=r(184),f=["UAH","USD","EUR","CNY"],p=function(e){var n=e.value,r=e.currency,t=e.onChangeValue,c=e.onChangeCurrency;return(0,l.jsxs)("div",{className:"block",children:[(0,l.jsxs)("ul",{className:"currencies",children:[f.map((function(e){return(0,l.jsx)("li",{onClick:function(){return c(e)},className:r===e?"active":"",children:e},e)})),(0,l.jsx)("li",{children:(0,l.jsxs)("svg",{height:"50px",viewBox:"0 0 50 50",width:"50px",children:[(0,l.jsx)("rect",{fill:"none",height:"50",width:"50"}),(0,l.jsx)("polygon",{points:"47.25,15 45.164,12.914 25,33.078 4.836,12.914 2.75,15 25,37.25 "})]})})]}),(0,l.jsx)("input",{onChange:function(e){return t(e.target.value)},value:n,type:"number",placeholder:0})]})},h=new Headers;h.append("apikey","XSxZRp3H0IjebhS6Nl2thLBDe4Holly0");var v={method:"GET",redirect:"follow",headers:h};var d=function(){var e=(0,s.useState)(!1),n=(0,o.Z)(e,2),r=n[0],c=n[1],a=(0,s.useState)("UAH"),f=(0,o.Z)(a,2),h=f[0],d=f[1],j=(0,s.useState)("EUR"),y=(0,o.Z)(j,2),b=y[0],x=y[1],g=(0,s.useState)(0),C=(0,o.Z)(g,2),w=C[0],O=C[1],S=(0,s.useState)(1),m=(0,o.Z)(S,2),U=m[0],D=m[1],k=(0,s.useRef)({}),P=(0,s.useCallback)((function(e){var n=e/k.current["USD"+h]*k.current["USD"+b];D(n.toFixed(3)),O(e)}),[h,b]),E=(0,s.useCallback)((function(e){var n=k.current["USD"+h]/k.current["USD"+b]*e;O(n.toFixed(3)),D(e)}),[h,b]);return(0,s.useEffect)((function(){function e(){return(e=u(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.apilayer.com/currency_data/live?source=USD&currencies=EUR%2C%20UAH%2C%20CNY",v);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,k.current=(0,t.Z)((0,t.Z)({},r.quotes),{},{USDUSD:1}),E(1),c(!0),console.log(r.quotes),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching exchange rates:",e.t0),alert("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}r||function(){e.apply(this,arguments)}()}),[E,r]),(0,s.useEffect)((function(){P(w)}),[w,h,P]),(0,s.useEffect)((function(){E(U)}),[U,b,E]),r?(0,l.jsxs)("div",{className:"ConverterApp",children:[(0,l.jsx)(p,{value:w,currency:h,onChangeCurrency:d,onChangeValue:P}),(0,l.jsx)(p,{value:U,currency:b,onChangeCurrency:x,onChangeValue:E})]}):(0,l.jsx)("div",{children:"Loading..."})},j=function(){return(0,l.jsx)("main",{children:(0,l.jsx)(d,{})})}},683:function(e,n,r){function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function c(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}r.d(n,{Z:function(){return u}})}}]);
//# sourceMappingURL=886.e1d5bbd1.chunk.js.map