"use strict";(self.webpackChunkreact_edu_projects=self.webpackChunkreact_edu_projects||[]).push([[886],{886:function(e,r,n){n.r(r),n.d(r,{default:function(){return j}});var t=n(683);function c(e,r,n,t,c,u,o){try{var a=e[u](o),i=a.value}catch(s){return void n(s)}a.done?r(i):Promise.resolve(i).then(t,c)}function u(e){return function(){var r=this,n=arguments;return new Promise((function(t,u){var o=e.apply(r,n);function a(e){c(o,t,u,a,i,"next",e)}function i(e){c(o,t,u,a,i,"throw",e)}a(void 0)}))}}var o=n(439),a=n(757),i=n.n(a),s=n(791),l=n(184),f=["UAH","USD","EUR","CNY"],p=function(e){var r=e.value,n=e.currency,t=e.onChangeValue,c=e.onChangeCurrency;return(0,l.jsxs)("div",{className:"block",children:[(0,l.jsxs)("ul",{className:"currencies",children:[f.map((function(e){return(0,l.jsx)("li",{onClick:function(){return c(e)},className:n===e?"active":"",children:e},e)})),(0,l.jsx)("li",{children:(0,l.jsxs)("svg",{height:"50px",viewBox:"0 0 50 50",width:"50px",children:[(0,l.jsx)("rect",{fill:"none",height:"50",width:"50"}),(0,l.jsx)("polygon",{points:"47.25,15 45.164,12.914 25,33.078 4.836,12.914 2.75,15 25,37.25 "})]})})]}),(0,l.jsx)("input",{onChange:function(e){return t(e.target.value)},value:r,type:"number",placeholder:0})]})},h=new Headers;h.append("apikey","XSxZRp3H0IjebhS6Nl2thLBDe4Holly0");var v={method:"GET",redirect:"follow",headers:h};var d=function(){var e=(0,s.useState)(!1),r=(0,o.Z)(e,2),n=r[0],c=r[1],a=(0,s.useState)("UAH"),f=(0,o.Z)(a,2),h=f[0],d=f[1],j=(0,s.useState)("EUR"),b=(0,o.Z)(j,2),y=b[0],x=b[1],g=(0,s.useState)(0),C=(0,o.Z)(g,2),m=C[0],w=C[1],O=(0,s.useState)(1),S=(0,o.Z)(O,2),U=S[0],D=S[1],k=(0,s.useRef)({}),P=(0,s.useCallback)((function(e){var r=e/k.current["USD"+h]*k.current["USD"+y];D(Number(r.toFixed(3))),w(e)}),[h,y]),E=(0,s.useCallback)((function(e){var r=k.current["USD"+h]/k.current["USD"+y]*e;w(Number(r.toFixed(3))),D(e)}),[h,y]);return(0,s.useEffect)((function(){function e(){return(e=u(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.apilayer.com/currency_data/live?source=USD&currencies=EUR%2C%20UAH%2C%20CNY",v);case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,k.current=(0,t.Z)((0,t.Z)({},n.quotes),{},{USDUSD:1}),E(1),c(!0),console.log(n.quotes),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching exchange rates:",e.t0),alert("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}n||function(){e.apply(this,arguments)}()}),[E,n]),(0,s.useEffect)((function(){P(m)}),[m,h,P]),n?(0,l.jsxs)("div",{className:"ConverterApp",children:[(0,l.jsx)(p,{value:m,currency:h,onChangeCurrency:d,onChangeValue:P}),(0,l.jsx)(p,{value:U,currency:y,onChangeCurrency:x,onChangeValue:E})]}):(0,l.jsx)("div",{children:"Loading..."})},j=function(){return(0,l.jsx)("main",{children:(0,l.jsx)(d,{})})}},683:function(e,r,n){function t(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function c(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function u(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?c(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}n.d(r,{Z:function(){return u}})}}]);
//# sourceMappingURL=886.97e74e1d.chunk.js.map